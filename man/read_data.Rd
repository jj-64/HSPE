% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/read_data.R
\name{read_data}
\alias{read_data}
\title{Read LIS Microdata from .dta Files}
\usage{
read_data(indices = NA, variable = "dhi", raw = FALSE, country_filter = NULL)
}
\arguments{
\item{indices}{Integer vector of file indices to read.
If `NA` (default), all files are read unless `country_filter` is used.}

\item{variable}{Character string.
The variable name to extract from each dataset (default = `"dhi"` for income).}

\item{raw}{Logical.
If `TRUE`, household weights are used to expand each record (replicate rows).}

\item{country_filter}{Character or NULL.
A text pattern or vector of patterns used to select only files whose
filenames contain these substrings (e.g., `"at97"`).
If multiple values: any matching file will be included.}
}
\value{
A named list where each element is a cleaned dataset for one file.
}
\description{
This function reads multiple LIS microdata files (Stata .dta format) from the
HSPE data directory, extracts a chosen variable and household weights, and
optionally expands the data using household weights.
}
\examples{
# Read all files:
# read_data()

# Read only files containing "at97"
# read_data(country_filter = "at97")

# Read 3 specific files with row replication
# read_data(indices = c(1, 3, 5), raw = TRUE)

}
