% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Helper.R
\name{compute_headcounts_limited}
\alias{compute_headcounts_limited}
\title{Compute Model-Based Poverty Headcounts for Multiple Distributions}
\usage{
compute_headcounts_limited(
  PL_vals,
  models = c("all", "LN", "FISK", "NP"),
  Average = NULL,
  Fisk_scale = NULL,
  Fisk_shape = NULL,
  LN_sigma = NULL,
  NP_shape = NULL,
  NP_scale = NULL
)
}
\arguments{
\item{PL_vals}{A data frame containing poverty lines and observed
headcounts. Must include:
\describe{
  \item{pl}{Numeric vector of poverty lines.}
  \item{obs}{Observed headcounts associated with each poverty line.}
}}

\item{models}{Character vector specifying which models to compute.
Options are `"LN"`, `"FISK"`, `"NP"`, or `"all"` (default).
The matching is case-insensitive.}

\item{Average}{Numeric. Mean income parameter required for the
Lognormal (LN) model.}

\item{Fisk_scale, Fisk_shape}{Numerics. Shape parameters for the
Fisk distribution.}

\item{LN_sigma}{Numeric. Standard deviation of log-income for the
Lognormal model.}

\item{NP_alpha, NP_beta}{Numerics. Parameters for the New Pareto (NP)
distribution.}
}
\value{
A data frame with:
  \describe{
    \item{Observed}{Observed headcounts from `PL_vals`.}
    \item{FISK_H}{Headcount from the Fisk model (if requested).}
    \item{LN_H}{Headcount from the Lognormal model (if requested).}
    \item{NP_H}{Headcount from the New Pareto model (if requested).}
  }
  Row names correspond to the poverty lines in `PL_vals$pl`.
}
\description{
This function computes poverty headcount ratios for one or more
parametric income distributions (Lognormal, Fisk, and New Pareto).
It evaluates the cumulative distribution function (CDF) at each
poverty line provided in `PL_vals` and returns model-specific
headcounts (in percent) alongside the observed headcount.
}
\details{
Users may specify which models to compute using the `models` argument.
Required distribution parameters must be provided only for the
requested models.


For each poverty line `p`, the function computes:
\itemize{
  \item \strong{FISK:} \eqn{F(p | \alpha, \beta)}
  \item \strong{LN:} \eqn{ \Phi( ( \log(p/Average) / \sigma ) + \sigma/2 ) }
  \item \strong{NP:} \eqn{F_{\text{NP}}(p | \alpha, \beta)}
}

Required parameters depend on the selected models.
Missing parameters for requested models result in an error.
}
\examples{
# Example poverty lines and observed values
PL_vals <- data.frame(
  pl = c(2, 3, 5),
  obs = c(10, 20, 35)
)

# Lognormal model only
compute_headcounts_limited(
  PL_vals,
  models = "LN",
  Average = 50,
  LN_sigma = 0.6
)

# Fisk and NP models together
compute_headcounts_limited(
  PL_vals,
  models = c("FISK", "NP"),
  Fisk_scale = 2, Fisk_shape = 1.5,
  NP_alpha = 1.2, NP_beta = 0.8
)

# All three models
compute_headcounts_limited(
  PL_vals,
  models = "all",
  Average = 50, LN_sigma = 0.6,
  Fisk_scale = 2, Fisk_shape = 1.5,
  NP_alpha = 1.2, NP_beta = 0.8
)
compute_headcounts_limited(PL_vals, models = "LN", Average = avg, LN_sigma = sigma)
compute_headcounts_limited(PL_vals, models = c("FISK", "NP"), Fisk_scale = a, Fisk_shape = b, NP_alpha = na, NP_beta = nb)
compute_headcounts_limited(PL_vals, models = "all", ...)
}
